CREATE DATABASE IF NOT EXISTS dbsapa;
USE dbsapa;

CREATE TABLE AdminSapa(
    admin_id INT AUTO_INCREMENT PRIMARY KEY,
    fullname VARCHAR(50) NOT NULL,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(50) NOT NULL
);

CREATE TABLE SchoolCoordinator(
    school_coordinator_id INT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(50) NOT NULL UNIQUE,
    firstname VARCHAR(50) NOT NULL,
    middlename VARCHAR(50) NOT NULL,
    lastname VARCHAR(50) NOT NULL,    
    password VARCHAR(50) NOT NULL,
    is_approved BOOLEAN DEFAULT FALSE,
    admin_id INT,
    FOREIGN KEY (admin_id) REFERENCES AdminSapa(admin_id) ON DELETE CASCADE
);

CREATE TABLE HospitalCoordinator(
    hospital_coordinator_id INT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(50) NOT NULL UNIQUE,
    firstname VARCHAR(50) NOT NULL,
    middlename VARCHAR(50) NOT NULL,
    lastname VARCHAR(50) NOT NULL,    
    password VARCHAR(50) NOT NULL,
    is_approved BOOLEAN DEFAULT FALSE,
    admin_id INT,
    FOREIGN KEY (admin_id) REFERENCES AdminSapa(admin_id) ON DELETE CASCADE
);

CREATE TABLE HospitalPost(
    hospital_post_id INT AUTO_INCREMENT PRIMARY KEY,
    imageFile LONGBLOB,
    caption TEXT,
    hospital_coordinator_id INT,
    FOREIGN KEY (hospital_coordinator_id) REFERENCES HospitalCoordinator(hospital_coordinator_id) ON DELETE CASCADE
);

CREATE TABLE Hospital(
    hospital_id INT AUTO_INCREMENT PRIMARY KEY,
    hospital_name VARCHAR(255),
    hospital_address TEXT,
    hospital_bio TEXT,
    hospital_phone VARCHAR(255),
    hospital_objectives VARCHAR(255),
    hospital_profile LONGBLOB,
    hospital_coordinator_id INT,
    FOREIGN KEY (hospital_coordinator_id) REFERENCES HospitalCoordinator(hospital_coordinator_id) ON DELETE CASCADE
);

CREATE TABLE School(
    school_id INT AUTO_INCREMENT PRIMARY KEY,
    school_profile LONGBLOB,
    school_name VARCHAR(255),
    school_number VARCHAR(255),
    school_code VARCHAR(255),
    school_address VARCHAR(255),
    school_bio VARCHAR(255),
    school_coordinator_id INT,
    FOREIGN KEY (school_coordinator_id) REFERENCES SchoolCoordinator(school_coordinator_id) ON DELETE CASCADE
);

CREATE TABLE Student(
    student_id INT AUTO_INCREMENT PRIMATY KEY,
    student_profile LONGBLOB,
    student_firstname VARCHAR(255),
    student_middlename VARCHAR(255),
    student_lastname VARCHAR(255),
    student_address TEXT,
    phone_number INT,
    student_email VARCHAR(255),
    student_birthdate VARCHAR(255),
    student_gender VARCHAR(255),
    school_id INT,
    FOREIGN KEY (school_id) REFERENCES School(school_id) ON DELETE CASCADE
);


